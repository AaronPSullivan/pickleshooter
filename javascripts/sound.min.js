"boolean"!=typeof(new Audio).loop&&(audioToLoop=document.getElementById("audio_id_here"),audioToLoop.addEventListener("ended",function(){this.currentTime=0,this.play()},!1));var Sound=function(o){function e(e){if("background"==e){var n=o("<audio autoplay loop />").get(0);n.volume=.6}else var n=o("<audio />").get(0);return"shoot"==e&&(n.volume=.8),"die"==e&&(n.volume=.4),n.src=u+e+t,n}function n(o,e){return{play:function(){n.play(o,e)},stop:function(){n.stop(o)}}}var t=o.browser.webkit?".mp3":".wav",u="sounds/",r={};return o.extend(n,{play:function(n,t){t=t||4,r[n]||(r[n]=[e(n)]);var u=o.grep(r[n],function(o){return o.currentTime==o.duration||0==o.currentTime});if(SOUNDTOGGLE)if(u[0]){try{u[0].currentTime=0}catch(i){}u[0].play()}else if(!t||r[n].length<t){var a=e(n);r[n].push(a),a.play()}},stop:function(o){if(r[o])try{sound=r[o][0],sound.pause(),sound.currentTime=0}catch(e){console.log(e),console.log("error")}}})}(jQuery);